{% extends "operacoes/base.html" %}

{% block title %}Operações | Início{% endblock %}

{% block content %}
<style>
  .home-hero {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 14px;
    padding: 18px;
  }

  .home-card {
    border-radius: 14px;
    transition: transform .12s ease, box-shadow .12s ease;
  }

  .home-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 .5rem 1rem rgba(0, 0, 0, .08);
  }

  .home-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: #f1f3f5;
  }

  .home-section-title {
    letter-spacing: .02em;
  }
</style>

<div class="container py-2">

  <!-- HERO -->
  <h2 class="mb-4">
    </h3>


    {% if pode_ver %}
    <!-- OPERAÇÃO -->
    <div class="d-flex align-items-center justify-content-between mb-2">
      <h5 class="mb-0 home-section-title">Operação</h5>
    </div>

    <div class="row g-3 mb-3">

      <!-- Assistidos -->
      <div class="col-12 col-lg-6">
        <div class="card shadow-sm home-card">
          <div class="card-body">
            <div class="d-flex align-items-start gap-3">
              <div class="home-icon"><i class="bi bi-people fs-4"></i></div>
              <div class="flex-grow-1">
                <h5 class="card-title mb-1">Assistidos</h5>

                <div class="d-flex flex-wrap gap-2 mt-3">
                  <a class="btn btn-outline-primary" href="{% url 'assistidos:assistidos_lista' %}">
                    <i class="bi bi-search me-1"></i> Listar
                  </a>
                  {% if pode_editar %}
                  <a class="btn btn-primary" href="{% url 'assistidos:assistido_create' %}">
                    <i class="bi bi-plus-circle me-1"></i> Novo
                  </a>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Benefícios -->
      <div class="col-12 col-lg-6">
        <div class="card shadow-sm home-card">
          <div class="card-body">
            <div class="d-flex align-items-start gap-3">
              <div class="home-icon"><i class="bi bi-gift fs-4"></i></div>
              <div class="flex-grow-1">
                <h5 class="card-title mb-1">Benefícios</h5>

                <div class="d-flex flex-wrap gap-2 mt-3">
                  <a class="btn btn-outline-primary" href="{% url 'beneficios:beneficio_lista' %}">
                    <i class="bi bi-list-ul me-1"></i> Listar
                  </a>
                  {% if pode_editar %}
                  <a class="btn btn-primary" href="{% url 'beneficios:beneficio_create' %}">
                    <i class="bi bi-plus-circle me-1"></i> Novo
                  </a>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Entregas -->
      <div class="col-12 col-lg-6">
        <div class="card shadow-sm home-card">
          <div class="card-body">
            <div class="d-flex align-items-start gap-3">
              <div class="home-icon"><i class="bi bi-box-seam fs-4"></i></div>
              <div class="flex-grow-1">
                <h5 class="card-title mb-1">Entregas</h5>

                <div class="d-flex flex-wrap gap-2 mt-3">
                  <a class="btn btn-outline-primary" href="{% url 'entregas:lote_lista' %}">
                    <i class="bi bi-list-ul me-1"></i> Listar
                  </a>
                  {% if pode_editar %}
                  <a class="btn btn-primary" href="{% url 'entregas:lote_create' %}">
                    <i class="bi bi-plus-circle me-1"></i> Nova entrega
                  </a>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Atribuições -->
      <div class="col-12 col-lg-6">
        <div class="card shadow-sm home-card">
          <div class="card-body">
            <div class="d-flex align-items-start gap-3">
              <div class="home-icon"><i class="bi bi-diagram-3 fs-4"></i></div>
              <div class="flex-grow-1">
                <h5 class="card-title mb-1">Atribuições</h5>


                <div class="d-flex flex-wrap gap-2 mt-3">
                  <a class="btn btn-outline-primary" href="{% url 'atribuicoes:atribuicoes_lista' %}">
                    <i class="bi bi-list-ul me-1"></i> Listar
                  </a>
                  {% if pode_editar %}
                  <a class="btn btn-primary" href="{% url 'atribuicoes:atribuicao_nova' %}">
                    <i class="bi bi-plus-circle me-1"></i> Nova atribuição
                  </a>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- CONSULTAS (mesmos itens do menu Consultas da navbar) -->
    <div class="d-flex align-items-center justify-content-between mb-2">
      <h5 class="mb-0 home-section-title">Consultas e Relatórios</h5>
    </div>

    <div class="card shadow-sm home-card mb-3">
      <div class="card-body">

        <div class="row g-2">

          <!-- Assistidos -->
          <div class="col-12 col-lg-4">
            <div class="fw-semibold mb-2 text-muted small text-uppercase">Assistidos</div>
            <div class="d-grid gap-2">
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:identificacao_lista' %}">
                <i class="bi bi-person-vcard me-2"></i> Identificação e Endereço
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:socioeconomico_lista' %}">
                <i class="bi bi-house-heart me-2"></i> Situação Socioeconômica
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:saude_lista' %}">
                <i class="bi bi-heart-pulse me-2"></i> Condições de Saúde
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'impressos:ficha_inscricao' %}">
                <i class="bi bi-heart-pulse me-2"></i> Ficha de Inscrição (impressão)
              </a>
            </div>
          </div>

          <!-- Benefícios -->
          <div class="col-12 col-lg-4">
            <div class="fw-semibold mb-2 text-muted small text-uppercase">Benefícios</div>
            <div class="d-grid gap-2">
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:atribuicoes_consulta' %}">
                <i class="bi bi-diagram-3 me-2"></i> Atribuições (por Assistido)
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:beneficio_assistidos_consulta' %}">
                <i class="bi bi-gift me-2"></i> Assistidos por Benefício
              </a>
            </div>
          </div>

          <!-- Entregas -->
          <div class="col-12 col-lg-4">
            <div class="fw-semibold mb-2 text-muted small text-uppercase">Entregas</div>
            <div class="d-grid gap-2">
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:entregas_lotes_lista' %}">
                <i class="bi bi-box-seam me-2"></i> Lotes de Entrega
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:consulta_lotes_resumo' %}">
                <i class="bi bi-bar-chart-line me-2"></i> Resumo por Lote
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:entregas_assistido_historico' %}">
                <i class="bi bi-people me-2"></i> Histórico por Assistido
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:entregas_lotes_lista' %}">
                <i class="bi bi-eye me-2"></i> Detalhe de Lote
              </a>
              <a class="btn btn-outline-primary text-start" href="{% url 'consultas:entregas_lote_chamada' %}">
                <i class="bi bi-eye me-2"></i> Lista de Presença
              </a>
            </div>
          </div>

        </div>

      </div>
    </div>
    {% endif %}

</div>
{% endblock %}